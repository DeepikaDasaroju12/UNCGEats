<div class="card mt-2">
  <h2 class="mx-2 mt-2" style="display: flex; justify-content: center">
    View Canteen Requests
  </h2>
  <mat-tab-group animationDuration="0ms" class="mt-5" style="padding: 20px">
    <mat-tab label="Active Requests">
      <mat-accordion>
        <mat-expansion-panel
          *ngFor="let order of activeRequests.slice().reverse()"
          class="mt-4"
        >
          <mat-expansion-panel-header>
            <mat-panel-title> {{ order.Created }} </mat-panel-title>
            <mat-panel-title>
              Canteen: {{ order.Canteen?.Name }}
            </mat-panel-title>
            <mat-panel-title>
              Owner: {{ order.Owner?.FirstName + " " + order.Owner?.LastName }}
            </mat-panel-title>
            <mat-panel-title> Status: {{ order.Status }} </mat-panel-title>
          </mat-expansion-panel-header>
          <table class="mx-3" style="border: none">
            <thead>
              <tr>
                <th style="padding-left: 15px">Thumbnail</th>
                <th style="padding-left: 15px">Name</th>
                <th style="padding-left: 15px">Description</th>
                <th style="padding-left: 15px">Address</th>
                <th style="padding-left: 15px">Working Hours</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td
                  style="padding-left: 15px"
                  *ngIf="order.Canteen?.Image != ''"
                >
                  <img
                    src="{{ order.Canteen?.Image }}"
                    style="width: 50px; height: 50px; object-fit: fill"
                  />
                </td>
                <td
                  style="padding-left: 15px"
                  *ngIf="order.Canteen?.Image == ''"
                >
                  <img
                    src="../../assets/missing_img.jpg"
                    style="width: 50px; height: 50px; object-fit: fill"
                  />
                </td>
                <td style="padding-left: 15px">{{ order.Canteen?.Name }}</td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.Description }}
                </td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.Address }}
                </td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.WorkingHours }}
                </td>
              </tr>
            </tbody>
          </table>
          <mat-chip-listbox aria-label="Order Status" class="mt-3">
            <mat-chip-option
              *ngFor="let status of registrationStatusList"
              (selectionChange)="updateRegistrationStatus(order, status)"
              >{{ status }}</mat-chip-option
            >
          </mat-chip-listbox>
        </mat-expansion-panel>
      </mat-accordion>
      <div
        *ngIf="activeRequests.length == 0"
        class="mt-4"
        style="display: flex; justify-content: center"
      >
        No Data To Display
      </div>
    </mat-tab>
    <mat-tab label="Approved Requests">
      <mat-accordion>
        <mat-expansion-panel
          *ngFor="let order of approvedRequests.slice().reverse()"
          class="mt-4"
        >
          <mat-expansion-panel-header>
            <mat-panel-title> {{ order.Created }} </mat-panel-title>
            <mat-panel-title>
              Canteen: {{ order.Canteen?.Name }}
            </mat-panel-title>
            <mat-panel-title>
              Owner: {{ order.Owner?.FirstName + " " + order.Owner?.LastName }}
            </mat-panel-title>
            <mat-panel-title> Status: {{ order.Status }} </mat-panel-title>
          </mat-expansion-panel-header>
          <table class="mx-3" style="border: none">
            <thead>
              <tr>
                <th style="padding-left: 15px">Thumbnail</th>
                <th style="padding-left: 15px">Name</th>
                <th style="padding-left: 15px">Description</th>
                <th style="padding-left: 15px">Address</th>
                <th style="padding-left: 15px">Working Hours</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td
                  style="padding-left: 15px"
                  *ngIf="order.Canteen?.Image != ''"
                >
                  <img
                    src="{{ order.Canteen?.Image }}"
                    style="width: 50px; height: 50px; object-fit: fill"
                  />
                </td>
                <td
                  style="padding-left: 15px"
                  *ngIf="order.Canteen?.Image == ''"
                >
                  <img
                    src="../../assets/missing_img.jpg"
                    style="width: 50px; height: 50px; object-fit: fill"
                  />
                </td>
                <td style="padding-left: 15px">{{ order.Canteen?.Name }}</td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.Description }}
                </td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.Address }}
                </td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.WorkingHours }}
                </td>
              </tr>
            </tbody>
          </table>
        </mat-expansion-panel>
      </mat-accordion>
      <div
        *ngIf="approvedRequests.length == 0"
        class="mt-4"
        style="display: flex; justify-content: center"
      >
        No Data To Display
      </div>
    </mat-tab>
    <mat-tab label="Rejected Requests">
      <mat-accordion>
        <mat-expansion-panel
          *ngFor="let order of rejectedRequests.slice().reverse()"
          class="mt-4"
        >
          <mat-expansion-panel-header>
            <mat-panel-title> {{ order.Created }} </mat-panel-title>
            <mat-panel-title>
              Canteen: {{ order.Canteen?.Name }}
            </mat-panel-title>
            <mat-panel-title>
              Owner: {{ order.Owner?.FirstName + " " + order.Owner?.LastName }}
            </mat-panel-title>
            <mat-panel-title> Status: {{ order.Status }} </mat-panel-title>
          </mat-expansion-panel-header>
          <table class="mx-3" style="border: none">
            <thead>
              <tr>
                <th style="padding-left: 15px">Thumbnail</th>
                <th style="padding-left: 15px">Name</th>
                <th style="padding-left: 15px">Description</th>
                <th style="padding-left: 15px">Address</th>
                <th style="padding-left: 15px">Working Hours</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td
                  style="padding-left: 15px"
                  *ngIf="order.Canteen?.Image != ''"
                >
                  <img
                    src="{{ order.Canteen?.Image }}"
                    style="width: 50px; height: 50px; object-fit: fill"
                  />
                </td>
                <td
                  style="padding-left: 15px"
                  *ngIf="order.Canteen?.Image == ''"
                >
                  <img
                    src="../../assets/missing_img.jpg"
                    style="width: 50px; height: 50px; object-fit: fill"
                  />
                </td>
                <td style="padding-left: 15px">{{ order.Canteen?.Name }}</td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.Description }}
                </td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.Address }}
                </td>
                <td style="padding-left: 15px">
                  {{ order.Canteen?.WorkingHours }}
                </td>
              </tr>
            </tbody>
          </table>
        </mat-expansion-panel>
      </mat-accordion>
      <div
        *ngIf="rejectedRequests.length == 0"
        class="mt-4"
        style="display: flex; justify-content: center"
      >
        No Data To Display
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
